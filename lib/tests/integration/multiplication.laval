.cores 1, 2, 3
.mem_number 10
.mem_size 10
.mem_map 0, 2, 4, 9, 7, 9
.in 0, 2

0:
    MUX CURRENT, BEFORE, CURRENT
    MXL 0
    DBG
    JMP 1

1:
    SYN
    LLS 1
    JMP 1

2:
    MUX CURRENT, CURRENT, AFTER
    MXL 0
    CAN 1
    MUX CURRENT, CURRENT, BEFORE
    JEZ 3
    MXL 0
    SYN
    JMP 2

3:
    MXD
    LCL 0
    LCH 0
    SYN
    JMP 2

4:
    MUX CURRENT, BEFORE, CURRENT
    MXL 0
    DBG
    MUX CURRENT, AFTER, BEFORE
    JMP 5

5:
    JEZ 6
    SYN
    MXD
    RLS 1
    JMP 5

6:
    SYN
    MXL 0
    HLT

7:
    MUX CURRENT, BEFORE, CURRENT
    JMP 8

8:
    MXA 0
    SYN
    JMP 8
